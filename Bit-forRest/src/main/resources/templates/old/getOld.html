
<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />

<!-- Favicon-->
<link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
<!-- Bootstrap icons-->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
	rel="stylesheet" />
<!-- Core theme CSS (includes Bootstrap)-->
<link href="/css/getOld.css" rel="stylesheet" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">

</head>
<style>
	.custom{
		    background: #000;
    padding: 3px;
    color: #fff !important;
	}
	
	.custom a{
    color: #fff !important;
	}
	
	.custom:hover{
		  
    padding: 4px;
    color: #ecf542 !important;
	}
	
	.custom a:hover{
		  
    padding: 4px;
    color: #ecf542 !important;
	}
	
	.purchase-info a{
	color:#fff !important;
	}
</style>



<body>
	<!-- Navigation-->
	<div th:replace="/main/toolbar.html"></div>

	<div class="card-wrapper">

		<div class="card">
			<!-- card left -->

			<div class="product-imgs">
				<div class="img-display">
				
<!-- 	////			큰 사진 ///-->
					<div class="img-showcase">
						<img th:each = "img : ${oldImgList}" th:src= "@{/images/uploadFiles/} + ${img.fileName}" >
					</div>

<!-- ////버튼///// -->
		
					<span sec:authorize="isAuthenticated()">
					<div class="buttons" th:if="${#authentication.principal.user.userId}==${old.userId}">
							<button type="button" class="btn custom">
								<a th:href="@{/old/deleteOld(oldNo=${old.oldNo})}">삭제</a>
							</button>
							<button type="button" class="btn custom">
								<a th:href="@{/old/updateOld(oldNo=${old.oldNo})}">수정</a>
							</button>
							<button type="button" class="btn custom">끌어올리기</button>
					</div>
					</span>
				</div>

<!--/// 밑에 조그만 사진들 ///-->
				<div class="img-select">
					<div class="img-item" th:each = "img,n : ${oldImgList}">
						<a href="#" data-id="1">
						<input type="hidden" class="imgid" th:value="${n.index+1}">
						 <img th:src="@{/images/uploadFiles/} + ${img.fileName}">
						</a>
					</div>
					
					</div>


			</div>
			<!-- card right -->
			<div class="product-content">

				<h2 class="product-title" th:text=${old.oldTitle}></h2>

				<div class="categoryaddr">

					<div class="category" th:text=${old.category}></div>
					/
					<div class="oldAddr" th:text=${old.oldAddr}></div>
					/ 조회
					<div class="oldView" th:text=${old.oldView}></div>
				</div>

				<div class="oldDate" th:text=${old.oldDate}></div>
			
				<div class="user">

					<table>
						<tr>
							<td>

								<div class="userProfile">


									<a th:href="@{/user/getUser(userId=${old.userId})}"
										style="height: 54;"> <img
										src="https://randomuser.me/api/portraits/men/52.jpg"
										alt="A man smiling" /></a>

								</div>

							</td>

							<td>
								<p>
									<span class="a" th:text=${old.userId}></span>
								</p>

								<div class="product-rating">

									<i class="fas fa-star"></i> <i class="fas fa-star"></i> <i
										class="fas fa-star"></i> <i class="fas fa-star"></i> <i
										class="fas fa-star-half-alt"></i> <span
										th:text=${oldReview.userRate}></span>

								</div>

							</td>
						</tr>
					</table>

				</div>

				<div class="purchase-info">
				<div class="loginUser">
					<span sec:authorize="isAuthenticated()">
					 <span class="hiddenUserId" style="display:none" sec:authentication="principal.user.userId" th:text="${#authentication.principal.user.userId}"></span>
					<a th:href="@{'http://192.168.0.42:3001/oldChat/init/'+${#authentication.name}+'/'+${old.oldNo}}" target=”_blank”>
					<button type="button" class="btn" th:if="${#authentication.principal.user.userId} !=${old.userId}">
					채팅하기
					<i class="fa-solid fa-comments"></i>
					</button>
					</a>
					</div>
					</span>
					
					<div class="logoutUser">
					<span sec:authorize="isAnonymous()">
					<button type="button" class="btn">
					
					<a th:href="@{/user/login}">
					채팅하기(login)
					</a>
						<i class="fa-solid fa-comments">
						 
						</i>
					</button>
					</span>
					</div>
			
			<!--Simple dropdown menu based on w3schools.org / css-js-dropdown -->

	
	
	
	
				</div>


				<div class="kakaolike">

					<div class="social-links">
						<a href="#"> 공유하기 <!-- 			<img alt="" src="/images/content/kakao.png"></i> -->

						</a>

					</div>

					<div class="oldLike">

						<button type="button" class="btn">
							찜하기<i class="fa-solid fa-heart"></i>
						</button>

					</div>
				</div>

				<div class="product-price">
					<!--         <p class = "last-price">Old Price: <span>$257.00</span></p> -->
					<span th:text=${old.oldPrice}></span> <span>원</span>
				</div>

				<div class="product-detail">



					<p class="detail" th:text=${old.oldDetail}></p>

				</div>


	


			</div>

		</div>

	</div>
	<div class="container tempList">
		<div class="row">
			<div class="col-md-12">
			
				<h2>같은 카테고리의 물품들</h2>
				<div class="old-list">

					<!-- BEGIN old -->
					<div class="old" th:each="old : ${list}">
						<div class="owl-item active" style="width: 270px;">

							<div class="item" >
								<div class="try_rc_mob_box_wrapper">
									<div class="try_rc_mob_img">
										<img  width="300" height="205"  th:src="@{/images/uploadFiles/} + ${old.oldImg}" >
										<!--	<h5>Sale</h5>  -->
										<a href="#"><i class="fa fa-heart" aria-hidden="true"></i></a>
									</div>
									<div class="try_rc_mob_img_cont">
										<h2 class="product-title" th:text=${old.oldTitle}></h2>

									</div>
									<div class="try_rc_mob_img_cont_bottom">
										<p>
											<span class="new-price" th:text="|${old.oldPrice}원|"></span>
										</p>
										<div class="try_mob_btn_wrapper">
											<a th:href="@{/old/getOld(oldNo= ${old.oldNo})}">자세히 보기</a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>


					<!-- END old -->


				</div>
				<!-- END old List -->

			</div>
		</div>
	</div>



	<!-- Footer-->
	<div th:replace="/main/footer.html"></div>

	<script src="/js/getProduct.js"></script>
	<script src="/js/getOld.js"></script>
	
	<script>
		
	</script>
</body>



</html>